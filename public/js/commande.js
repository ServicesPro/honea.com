function checkCart(){cart=JSON.parse(localStorage.getItem("cart")),null==cart||0==cart.cartProduct.length?(cart={cartProduct:[]},count.style.display="none"):(count.style.display="inline",count.textContent=cart.cartProduct.length)}function getCommande(e){database.collection(pays+"/Commande/List").where("uid","==",e).where("cart","in",["no"]).get().then(function(e){0==e.size?document.querySelector(".empty").style.display="flex":document.querySelector(".empty").style.display="none",e.docs.forEach(function(e){let t=document.createElement("div");t.className="product";let n=document.createElement("div");n.className="image";let o=document.createElement("div");o.className="icon";let c=document.createElement("img");c.src="../icon/edit.svg",c.height="25",c.width="25",o.appendChild(c);let a=document.createElement("div");a.className="myPrix";let i=document.createElement("h3"),d=(document.createElement("img"),document.createElement("span")),r=document.createElement("h2");r.style.fontSize="0.8rem",r.style.marginBottom="8px",r.style.marginRight="40px",d.textContent="Annuler la commande";let l=e.data().quantite*e.data().prix;i.textContent=l.toLocaleString()+" FCFA",r.textContent="Lieux: "+e.data().lieux,a.appendChild(i),d.addEventListener("click",function(){document.querySelector("#confirmDialog").style.display="flex",commandeSelectId=e.data().id});let u=document.createElement("h1"),m=document.createElement("h2");u.textContent=e.data().nom,m.textContent="Quantit√©: "+e.data().quantite;let s=document.createElement("div");s.className="name",s.appendChild(u),s.appendChild(m),s.appendChild(a),s.appendChild(r),s.appendChild(d);let p=document.createElement("img");p.src=e.data().image,p.height="60",p.width="60",n.appendChild(p),n.appendChild(s),t.appendChild(n),t.appendChild(o),root.appendChild(t),c.addEventListener("click",function(){var t={get:[]};t.get[0]=e.data(),console.log(t.get),localStorage.setItem("commande",JSON.stringify(t)),window.location.href="/pages/modifier.html"})})}),buttonLoading.style.display="none"}function setOnClick(){buttonNavProduit.addEventListener("click",function(){window.location.href="/produit.html"}),buttonHome.addEventListener("click",function(){window.location.href="/"}),document.querySelector("#drawer-icon").addEventListener("click",function(){window.location.href="/"}),document.querySelector("#menuCart").addEventListener("click",function(){window.location.href="/panier.html"}),document.querySelector(".cont1 img").addEventListener("click",function(){document.querySelector("#confirmDialog").style.display="none"}),document.querySelector(".option2").addEventListener("click",function(){document.querySelector("#confirmDialog").style.display="none"}),document.querySelector(".option1").addEventListener("click",function(){document.querySelector("#confirmDialog").style.display="none",popupDiv.className="popupLoading";let e=database.collection(pays).doc("Commande").collection("List").doc(commandeSelectId);e.delete().then(function(e){window.location.href="/commande.html"}).catch(function(e){popupDiv.className="popupLoadingClose",alert("Une erreur s'est produite: "+e),console.log(e)})})}var firebaseConfig={apiKey:"AIzaSyCAjf5FkLQCFAuI1ai9l1xYrr_BUCCL0n4",authDomain:"bestdistribution-169c9.firebaseapp.com",databaseURL:"https://bestdistribution-169c9.firebaseio.com",projectId:"bestdistribution-169c9",storageBucket:"bestdistribution-169c9.appspot.com",messagingSenderId:"908399684323",appId:"1:908399684323:web:ccf5182870d4fcce62f3d6"};firebase.initializeApp(firebaseConfig);const database=firebase.firestore(),auth=firebase.auth();firebase.auth().onAuthStateChanged(function(e){null==e?(console.log(e),localStorage.setItem("username",""),localStorage.setItem("userphone",""),window.location.href="/connection.html"):(uid=auth.currentUser.uid,getCommande(auth.currentUser.uid))});let root=document.querySelector(".productWrapper");const count=document.querySelector(".count"),buttonHome=document.querySelector(".navHome"),buttonNavProduit=document.querySelector(".navProduit"),buttonLoading=document.querySelector(".loadContainer");var cart;let product;var commandeSelectId;checkCart(),setOnClick();